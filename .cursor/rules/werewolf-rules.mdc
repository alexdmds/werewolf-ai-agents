# ğŸº RÃ¨gle â€“ Comportement des Loups-Garous (Werewolves)

## ğŸ“Œ Contexte

Les loups-garous sont des agents secrets. Leur objectif est dâ€™Ã©liminer les villageois sans Ãªtre dÃ©masquÃ©s.

Dans cette version simplifiÃ©e du jeu, seuls trois rÃ´les existent :
- **Villager** : rÃ´le neutre, pas dâ€™action de nuit
- **Seer** : peut inspecter un joueur chaque nuit
- **Werewolf** : agit en groupe pour tuer

---

## ğŸ§  Informations initiales

Au dÃ©but de la partie :
- Chaque agent ayant le rÃ´le `Loup-Garou` est informÃ© de lâ€™identitÃ© des **autres loups-garous**
- Cette information est injectÃ©e dans le `system_prompt` **et** ajoutÃ©e explicitement dans la `AgentMemory` de lâ€™agent

Exemple de mÃ©moire initiale :

Tu sais que les autres loups sont : Agent B, Agent C.

---

## ğŸŒ™ Action de nuit des loups

Chaque nuit :
- Tous les loups doivent **secrÃ¨tement voter** pour un joueur Ã  Ã©liminer.
- Aucun loup ne connaÃ®t le vote des autres au moment de voter (pas de discussion ni coordination)
- Le vote se fait Ã  bulletin "secret", de maniÃ¨re simultanÃ©e (simulation : chaque agent vote indÃ©pendamment)

---

## ğŸ“Š RÃ©solution des votes

Une fois les votes collectÃ©s :
1. Le moteur de jeu (`run_night_phase`) agrÃ¨ge les votes
2. Si un joueur reÃ§oit **la majoritÃ© absolue** (ex : 2 votes sur 3), il est Ã©liminÃ©
3. Sinon (Ã©galitÃ© ou dispersion), **aucune mort nâ€™a lieu**

Le matin :
- Tous les agents sont informÃ©s de la victime Ã©ventuelle (ou quâ€™il nâ€™y a pas eu de victime)
- Les **loups** reÃ§oivent un rÃ©capitulatif en mÃ©moire :
  - la cible Ã©liminÃ©e (sâ€™il y en a une)
  - les votes de chaque loup

Exemple injectÃ© dans la mÃ©moire des loups :

Votes des loups :
	â€¢	Agent B a votÃ© contre Agent F
	â€¢	Agent C a votÃ© contre Agent E
	â€¢	Agent D a votÃ© contre Agent F

RÃ©sultat : Agent F a Ã©tÃ© tuÃ© par les loups.

---

## âœ… RÃ©sumÃ©

| Ã‰tape                     | Description                                         |
|--------------------------|-----------------------------------------------------|
| RÃ©vÃ©lation initiale       | Chaque loup connaÃ®t les autres loups               |
| Action de nuit           | Vote secret et simultanÃ©                           |
| RÃ©solution               | MajoritÃ© => mort ; Ã©galitÃ© => aucune victime        |
| MÃ©moire partagÃ©e         | RÃ©sumÃ© injectÃ© aux loups aprÃ¨s chaque nuit         |
| Transparence pour village | Le village ne sait pas qui a votÃ©, juste sâ€™il y a eu une mort |

---

## ğŸ§ª ImplÃ©mentation recommandÃ©e

- Le `game_engine` gÃ¨re lâ€™agrÃ©gation et applique la rÃ¨gle de majoritÃ©
- Le rÃ©sumÃ© est injectÃ© via `agent.receive_info(...)` dans les loups uniquement
- Les villageois ne reÃ§oivent que la mention de la victime (sâ€™il y en a une)